<% if topics.blank? %>

  <h3 class="no-topics-text"><b>スレッドがありません。</b></h3>

<% else %>

  <%= paginate topics %>

  <div class="row list-group list-group-flush">

    <% topics.each do |topic| %>
      <div class="col-sm-12 list-group-item topic-list-item">
        <div class="row">

          <div class="col-sm-3 topic-index-image">
            <%= link_to topic_path(topic) do %>
              <%= attachment_image_tag(topic, :image, size: "100x100", fallback: "no_image.jpg") %>
            <% end %>
          </div>

          <div class="col-sm-9 topic-index-title">
            <%= link_to topic_path(topic) do %>
              <%= topic.title %>
            <% end %>
            <div class="row align-items-end">

              <div class="col-sm-4 topic-index-username">
                <%= link_to user_path(topic.user) do %>
                  By <%= topic.user.name %>
                <% end %>
              </div>

              <div class="col-sm-5 topic-index-count">
                <%= link_to " #{topic.comments.count} コメント", topic_path(topic.id), class: "fas fa-comment-dots" %>
                <i class="fas fa-shoe-prints"></i> <%= topic.impressionist_count %>
              </div>

              <div class="col-sm-3 topic-index-created">
                <%= topic.created_at.strftime('%Y/%m/%d %H:%M') %>
              </div>

            </div>
          </div>

        </div>
      </div>
    <% end %>

  </div>
  
  <%= paginate topics %>
  
<% end %>
