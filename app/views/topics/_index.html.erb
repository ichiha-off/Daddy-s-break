<% if topics.blank? %>

  <h3 class="no-topics-text"><b>スレッドがありません</b></h3>

<% else %>

  <%= paginate topics %>

  <div class="row list-group list-group-flush">

    <% topics.each do |topic| %>
      <div class="col-sm-12 col-12 list-group-item topic-list-item">
        <div class="row">

          <div class="col-sm-3 col-5 pl-3 topic-index-image">
            <%= link_to topic_path(topic) do %>
              <%= attachment_image_tag(topic, :image, size: "100x100", fallback: "no-image.svg") %>
            <% end %>
          </div>

          <div class="col-sm-9 col-7 pl-0 text-break topic-index-title">
            <%= link_to topic_path(topic) do %>
              <%= topic.title %>
            <% end %>
            <div class="row mt-md-5 align-items-end topic-index-info">

              <div class="col-xl-5 col-sm-6 col-10 m-1 m-sm-0 text-break topic-index-username">
                <%= link_to user_path(topic.user) do %>
                  By <%= topic.user.name %>
                <% end %>
              </div>

              <div class="col-xl-4 col-sm-3 col-10 m-1 m-sm-0 pr-0 px-sm-0 px-lg-3 topic-index-count">
                <%= link_to " #{topic.comments.count}", topic_path(topic.id), class: "fas fa-comment-dots" %>
                <i class="fas fa-shoe-prints"></i> <%= topic.impressionist_count %>
                <i class="fas fa-smile"></i> <%= topic.topic_score_average %>
              </div>

              <div class="col-sm-3 col-10 m-1 m-sm-0 topic-index-created">
                <%= topic.created_at.strftime('%Y/%m/%d %H:%M') %>
              </div>

            </div>
          </div>

        </div>
      </div>
    <% end %>

  </div>
  
  <%= paginate topics %>
  
<% end %>
